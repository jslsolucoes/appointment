id: 'bots'
version: 'v1'
entrypoint: 'welcome'
type: 'bot'
nodes:
   - ref: 'welcome.yaml'
     type: 'node'
   - ref: 'check-appointment.yaml'
     type: 'node'
   - ref: 'create-new-appointment-date.yaml'
     type: 'node'
   - ref: 'create-new-appointment-time.yaml'
     type: 'node'
   - ref: 'create-new-appointment.yaml'
     type: 'node'
   - ref: 'confirm-cancel-appointment.yaml'
     type: 'node'
   - ref: 'cancel-appointment.yaml'
     type: 'node'
providers:
   type: 'provider'
   mail:
      - id: 'botMailer'
        type: 'simple-mail-provider'
        smtp: 'email-smtp.us-east-1.amazonaws.com'
        port: 465
        tls: true
        username: (js) -> return env.AWS_ACCESS_KEY;
        password: (js) -> return env.AWS_ACCESS_SECRET;
        from: 'app@jslsolucoes.com'
        fromName: 'JSL Solucoes LTDA'
   sms:
      - id: 'botSms'
        type: 'twilio-sms-provider'
        accountSid: (js) -> return env.TWILIO_ACCOUNT_SID;
        authToken: (js) -> return env.TWILIO_AUTH_TOKEN;
        from: '+14243611384'
   wpp:
      - id: 'botWpp'
        type: 'twilio-wpp-provider'
        accountSid: (js) -> return env.TWILIO_ACCOUNT_SID;
        authToken: (js) -> return env.TWILIO_AUTH_TOKEN;
        from: '+14243611384'